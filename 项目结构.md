# Stepflow Tool System - é¡¹ç›®ç»“æ„è®¾è®¡

## ğŸ“¦ å¤šåŒ…æ¶æ„è®¾è®¡

é‡‡ç”¨ Cargo Workspace å¤šåŒ…æ¶æ„ï¼Œæ”¯æŒå¹¶è¡Œå¼€å‘å’Œç‹¬ç«‹æµ‹è¯•ã€‚

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```
stepflow-toolkit/
â”œâ”€â”€ Cargo.toml                    # Workspace é…ç½®
â”œâ”€â”€ README.md
â”œâ”€â”€ docs/                         # æ–‡æ¡£
â”œâ”€â”€ scripts/                      # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ examples/                     # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ benches/                      # æ€§èƒ½æµ‹è¯•
â”œâ”€â”€ crates/                       # æ ¸å¿ƒåŒ…
â”‚   â”œâ”€â”€ stepflow-core/            # æ ¸å¿ƒåº“
â”‚   â”œâ”€â”€ stepflow-api/             # API æœåŠ¡
â”‚   â”œâ”€â”€ stepflow-database/        # æ•°æ®åº“å±‚
â”‚   â”œâ”€â”€ stepflow-registry/        # å·¥å…·æ³¨å†Œä¸­å¿ƒ
â”‚   â”œâ”€â”€ stepflow-executor/        # æ‰§è¡Œå¼•æ“
â”‚   â””â”€â”€ stepflow-sandbox/         # æ²™ç®±ç®¡ç†
â”œâ”€â”€ crates/                       # æ‰€æœ‰åŒ…ç»Ÿä¸€ç®¡ç†
â”‚   â”œâ”€â”€ core/                     # æ ¸å¿ƒåŒ…
â”‚   â”‚   â”œâ”€â”€ stepflow-core/        # æ ¸å¿ƒåº“
â”‚   â”‚   â”œâ”€â”€ stepflow-api/         # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ stepflow-database/    # æ•°æ®åº“å±‚
â”‚   â”‚   â”œâ”€â”€ stepflow-registry/    # å·¥å…·æ³¨å†Œä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ stepflow-executor/    # æ‰§è¡Œå¼•æ“
â”‚   â”‚   â””â”€â”€ stepflow-sandbox/     # æ²™ç®±ç®¡ç†
â”‚   â”œâ”€â”€ tools/                    # å·¥å…·åŒ…
â”‚   â”‚   â”œâ”€â”€ stepflow-openapi/     # OpenAPI å·¥å…·
â”‚   â”‚   â”œâ”€â”€ stepflow-asyncapi/    # AsyncAPI å·¥å…·
â”‚   â”‚   â”œâ”€â”€ stepflow-python/      # Python å·¥å…·
â”‚   â”‚   â”œâ”€â”€ stepflow-shell/       # Shell å·¥å…·
â”‚   â”‚   â”œâ”€â”€ stepflow-ai/          # AI å·¥å…·
â”‚   â”‚   â””â”€â”€ stepflow-system/      # ç³»ç»Ÿå·¥å…·
â”‚   â”œâ”€â”€ services/                 # æœåŠ¡åŒ…
â”‚   â”‚   â”œâ”€â”€ stepflow-embedding/   # åµŒå…¥æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ stepflow-search/      # æœç´¢æœåŠ¡
â”‚   â”‚   â””â”€â”€ stepflow-monitoring/  # ç›‘æ§æœåŠ¡
â”‚   â””â”€â”€ binaries/                 # å¯æ‰§è¡Œæ–‡ä»¶
â”‚       â”œâ”€â”€ stepflow-server/      # ä¸»æœåŠ¡å™¨
â”‚       â”œâ”€â”€ stepflow-cli/         # å‘½ä»¤è¡Œå·¥å…·
â”‚       â””â”€â”€ stepflow-admin/       # ç®¡ç†å·¥å…·
â”œâ”€â”€ docs/                         # æ–‡æ¡£
â”‚   â”œâ”€â”€ api/                      # API æ–‡æ¡£
â”‚   â”œâ”€â”€ guides/                   # ä½¿ç”¨æŒ‡å—
â”‚   â””â”€â”€ packages/                 # åŒ…æ–‡æ¡£
â”‚       â”œâ”€â”€ core/                 # æ ¸å¿ƒåŒ…æ–‡æ¡£
â”‚       â”œâ”€â”€ tools/                # å·¥å…·åŒ…æ–‡æ¡£
â”‚       â””â”€â”€ services/             # æœåŠ¡åŒ…æ–‡æ¡£
â”œâ”€â”€ tests/                        # é›†æˆæµ‹è¯•
â”œâ”€â”€ examples/                     # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ scripts/                      # æ„å»ºå’Œéƒ¨ç½²è„šæœ¬
â””â”€â”€ benches/                      # æ€§èƒ½æµ‹è¯•
```

---

## ğŸ“‹ åŒ…è¯¦ç»†è®¾è®¡

### ğŸ¯ æ ¸å¿ƒåŒ… (Core Crates)

#### 1. `stepflow-core` - æ ¸å¿ƒåº“
**èŒè´£**: å®šä¹‰æ ¸å¿ƒæ•°æ®ç»“æ„å’Œæ¥å£
**ä¾èµ–**: æœ€å°åŒ–ä¾èµ–ï¼ŒåªåŒ…å«åŸºç¡€åº“

```toml
[dependencies]
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
chrono = { version = "0.4", features = ["serde"] }
uuid = { version = "1.0", features = ["v4"] }
thiserror = "1.0"
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod models;      // æ ¸å¿ƒæ•°æ®æ¨¡å‹
pub mod traits;      // æ ¸å¿ƒ trait å®šä¹‰
pub mod errors;      // é”™è¯¯ç±»å‹
pub mod types;       // ç±»å‹å®šä¹‰
pub mod constants;   // å¸¸é‡å®šä¹‰
```

**æ ¸å¿ƒæ¥å£**:
```rust
// src/traits.rs
#[async_trait]
pub trait ToolHandler: Send + Sync {
    async fn validate(&self, config: &serde_json::Value) -> Result<(), ToolError>;
    async fn execute(&self, input: &serde_json::Value) -> Result<serde_json::Value, ToolError>;
    async fn cleanup(&self) -> Result<(), ToolError>;
}

pub trait ToolRegistry: Send + Sync {
    async fn register_tool(&self, tool: ToolSpec) -> Result<ToolId, RegistryError>;
    async fn get_tool(&self, id: &ToolId) -> Result<ToolSpec, RegistryError>;
    async fn list_tools(&self, filter: ToolFilter) -> Result<Vec<ToolSpec>, RegistryError>;
}
```

#### 2. `stepflow-database` - æ•°æ®åº“å±‚
**èŒè´£**: æ•°æ®åº“è¿æ¥å’Œæ“ä½œ
**ä¾èµ–**: SQLx, SQLite

```toml
[dependencies]
sqlx = { version = "0.7", features = ["runtime-tokio-rustls", "sqlite", "chrono"] }
stepflow-core = { path = "../stepflow-core" }
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod connection;  // æ•°æ®åº“è¿æ¥ç®¡ç†
pub mod models;      // æ•°æ®åº“æ¨¡å‹
pub mod migrations;  // æ•°æ®åº“è¿ç§»
pub mod repository;  // æ•°æ®è®¿é—®å±‚
```

#### 3. `stepflow-registry` - å·¥å…·æ³¨å†Œä¸­å¿ƒ
**èŒè´£**: å·¥å…·æ³¨å†Œã€å‘ç°å’Œç®¡ç†
**ä¾èµ–**: stepflow-core, stepflow-database

```toml
[dependencies]
stepflow-core = { path = "../stepflow-core" }
stepflow-database = { path = "../stepflow-database" }
tokio = { version = "1.0", features = ["full"] }
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod registry;    // æ³¨å†Œä¸­å¿ƒå®ç°
pub mod discovery;   // å·¥å…·å‘ç°
pub mod validation;  // å·¥å…·éªŒè¯
pub mod cache;       // ç¼“å­˜ç®¡ç†
```

#### 4. `stepflow-executor` - æ‰§è¡Œå¼•æ“
**èŒè´£**: å·¥å…·æ‰§è¡Œå’Œè°ƒåº¦
**ä¾èµ–**: stepflow-core, stepflow-registry

```toml
[dependencies]
stepflow-core = { path = "../stepflow-core" }
stepflow-registry = { path = "../stepflow-registry" }
tokio = { version = "1.0", features = ["full"] }
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod executor;    // æ‰§è¡Œå¼•æ“
pub mod scheduler;   // ä»»åŠ¡è°ƒåº¦
pub mod metrics;     // æ‰§è¡ŒæŒ‡æ ‡
pub mod rate_limit;  // é™æµç®¡ç†
```

#### 5. `stepflow-sandbox` - æ²™ç®±ç®¡ç†
**èŒè´£**: å®‰å…¨æ‰§è¡Œç¯å¢ƒ
**ä¾èµ–**: stepflow-core

```toml
[dependencies]
stepflow-core = { path = "../stepflow-core" }
tokio-process = "0.5"
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod sandbox;     // æ²™ç®±å®ç°
pub mod isolation;   // éš”ç¦»ç®¡ç†
pub mod resources;   // èµ„æºé™åˆ¶
pub mod security;    // å®‰å…¨æ£€æŸ¥
```

#### 6. `stepflow-api` - API æœåŠ¡
**èŒè´£**: HTTP API æœåŠ¡
**ä¾èµ–**: æ‰€æœ‰æ ¸å¿ƒåŒ…

```toml
[dependencies]
actix-web = "4.0"
stepflow-core = { path = "../stepflow-core" }
stepflow-registry = { path = "../stepflow-registry" }
stepflow-executor = { path = "../stepflow-executor" }
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod routes;      // API è·¯ç”±
pub mod middleware;  // ä¸­é—´ä»¶
pub mod handlers;    // è¯·æ±‚å¤„ç†å™¨
pub mod auth;        // è®¤è¯
```

### ğŸ› ï¸ å·¥å…·åŒ… (Tool Crates)

#### 1. `stepflow-openapi` - OpenAPI å·¥å…·
**èŒè´£**: OpenAPI/Swagger å·¥å…·å¤„ç†
**ä¾èµ–**: stepflow-core, reqwest

```toml
[dependencies]
stepflow-core = { path = "../../stepflow-core" }
reqwest = { version = "0.11", features = ["json"] }
serde_json = "1.0"
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod handler;     // OpenAPI å¤„ç†å™¨
pub mod parser;      // è§„èŒƒè§£æå™¨
pub mod client;      // HTTP å®¢æˆ·ç«¯
pub mod auth;        // è®¤è¯å¤„ç†
```

#### 2. `stepflow-asyncapi` - AsyncAPI å·¥å…·
**èŒè´£**: AsyncAPI å·¥å…·å¤„ç†
**ä¾èµ–**: stepflow-core, å„ç§æ¶ˆæ¯åè®®åº“

```toml
[dependencies]
stepflow-core = { path = "../../stepflow-core" }
tokio-tungstenite = "0.20"
rumqttc = "0.20"
rdkafka = "0.33"
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod handler;     // AsyncAPI å¤„ç†å™¨
pub mod protocols;   // åè®®å®ç°
pub mod messaging;   // æ¶ˆæ¯å¤„ç†
pub mod connection;  // è¿æ¥ç®¡ç†
```

#### 3. `stepflow-python` - Python å·¥å…·
**èŒè´£**: Python è„šæœ¬æ‰§è¡Œ
**ä¾èµ–**: stepflow-core, pyo3

```toml
[dependencies]
stepflow-core = { path = "../../stepflow-core" }
pyo3 = { version = "0.19", features = ["auto-initialize"] }
tokio = "1.0"
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod handler;     // Python å¤„ç†å™¨
pub mod runtime;     // è¿è¡Œæ—¶ç®¡ç†
pub mod environment; // ç¯å¢ƒç®¡ç†
pub mod security;    // å®‰å…¨æ§åˆ¶
```

#### 4. `stepflow-shell` - Shell å·¥å…·
**èŒè´£**: Shell å‘½ä»¤æ‰§è¡Œ
**ä¾èµ–**: stepflow-core, tokio-process

```toml
[dependencies]
stepflow-core = { path = "../../stepflow-core" }
tokio-process = "0.5"
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod handler;     // Shell å¤„ç†å™¨
pub mod commands;    // å‘½ä»¤ç®¡ç†
pub mod security;    // å®‰å…¨éªŒè¯
pub mod output;      // è¾“å‡ºå¤„ç†
```

#### 5. `stepflow-ai` - AI å·¥å…·
**èŒè´£**: AI æ¨¡å‹è°ƒç”¨
**ä¾èµ–**: stepflow-core, å„ç§ AI API å®¢æˆ·ç«¯

```toml
[dependencies]
stepflow-core = { path = "../../core/stepflow-core" }
openai = "0.17"
anthropic = "0.7"
reqwest = "0.11"
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod handler;     // AI å¤„ç†å™¨
pub mod providers;   // æä¾›å•†ç®¡ç†
pub mod models;      // æ¨¡å‹ç®¡ç†
pub mod cost;        // æˆæœ¬è·Ÿè¸ª
pub mod agent;       # AI Agent æ”¯æŒ
pub mod llm;         # LLM Provider æŠ½è±¡
```

**æœªæ¥æ‹†åˆ†è®¡åˆ’**:
```rust
// æœªæ¥å¯æ‹†åˆ†ä¸ºä¸¤ä¸ªå­åŒ…
stepflow-ai-agent/   # AI Agent é€»è¾‘
stepflow-ai-llm/     # LLM Provider æŠ½è±¡
```

#### 6. `stepflow-system` - ç³»ç»Ÿå·¥å…·
**èŒè´£**: ç³»ç»Ÿçº§æ“ä½œ
**ä¾èµ–**: stepflow-core

```toml
[dependencies]
stepflow-core = { path = "../../stepflow-core" }
tokio = "1.0"
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod handler;     // ç³»ç»Ÿå·¥å…·å¤„ç†å™¨
pub mod filesystem;  // æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
pub mod process;     // è¿›ç¨‹ç®¡ç†
pub mod network;     // ç½‘ç»œæ“ä½œ
```

### ğŸ”§ æœåŠ¡åŒ… (Service Crates)

#### 1. `stepflow-embedding` - åµŒå…¥æœåŠ¡
**èŒè´£**: æ–‡æœ¬åµŒå…¥å’Œå‘é‡åŒ–
**ä¾èµ–**: stepflow-core

```toml
[dependencies]
stepflow-core = { path = "../../stepflow-core" }
```

#### 2. `stepflow-search` - æœç´¢æœåŠ¡
**èŒè´£**: å·¥å…·æœç´¢å’Œå‘ç°
**ä¾èµ–**: stepflow-core, stepflow-embedding

```toml
[dependencies]
stepflow-core = { path = "../../stepflow-core" }
stepflow-embedding = { path = "../stepflow-embedding" }
```

#### 3. `stepflow-monitoring` - ç›‘æ§æœåŠ¡
**èŒè´£**: ç›‘æ§å’ŒæŒ‡æ ‡æ”¶é›†
**ä¾èµ–**: stepflow-core

```toml
[dependencies]
stepflow-core = { path = "../../stepflow-core" }
tracing = "0.1"
```

### ğŸ“¦ å¯æ‰§è¡Œæ–‡ä»¶ (Binaries)

#### 1. `stepflow-server` - ä¸»æœåŠ¡å™¨
**èŒè´£**: å¯åŠ¨å®Œæ•´çš„å·¥å…·ç³»ç»Ÿ
**ä¾èµ–**: æ‰€æœ‰æ ¸å¿ƒåŒ…å’Œå·¥å…·åŒ…

```toml
[dependencies]
stepflow-api = { path = "../stepflow-api" }
stepflow-registry = { path = "../stepflow-registry" }
stepflow-executor = { path = "../stepflow-executor" }
# åŠ¨æ€åŠ è½½å·¥å…·åŒ…
```

#### 2. `stepflow-cli` - å‘½ä»¤è¡Œå·¥å…·
**èŒè´£**: å‘½ä»¤è¡Œç®¡ç†å·¥å…·
**ä¾èµ–**: stepflow-core, stepflow-registry

```toml
[dependencies]
stepflow-core = { path = "../core/stepflow-core" }
stepflow-registry = { path = "../core/stepflow-registry" }
clap = "4.0"
```

**ä¸»è¦æ¨¡å—**:
```rust
// src/lib.rs
pub mod commands;    // å‘½ä»¤å®ç°
pub mod plugins;     // æ’ä»¶ç³»ç»Ÿ (æœªæ¥)
pub mod interactive; // äº¤äº’å¼ç•Œé¢
pub mod config;      // é…ç½®ç®¡ç†
```

**æ’ä»¶ç³»ç»Ÿè®¾è®¡** (æœªæ¥):
```rust
// æ”¯æŒåŠ¨æ€æ³¨å†Œæ’ä»¶
pub trait CliPlugin {
    fn name(&self) -> &str;
    fn commands(&self) -> Vec<Box<dyn clap::Command>>;
    fn execute(&self, cmd: &str, args: &[String]) -> Result<(), CliError>;
}
```

#### 3. `stepflow-admin` - ç®¡ç†å·¥å…·
**èŒè´£**: ç³»ç»Ÿç®¡ç†å’Œç›‘æ§
**ä¾èµ–**: stepflow-core, stepflow-monitoring

```toml
[dependencies]
stepflow-core = { path = "../stepflow-core" }
stepflow-monitoring = { path = "../stepflow-monitoring" }
```

---

## ğŸ”„ åŒ…é—´ä¾èµ–å…³ç³»

### ä¾èµ–å±‚æ¬¡
```
stepflow-core (åŸºç¡€å±‚)
    â†“
stepflow-database, stepflow-sandbox (åŸºç¡€è®¾æ–½å±‚)
    â†“
stepflow-registry, stepflow-executor (æ ¸å¿ƒæœåŠ¡å±‚)
    â†“
stepflow-api (API å±‚)
    â†“
stepflow-server (åº”ç”¨å±‚)

å·¥å…·åŒ… (å¹¶è¡Œå±‚)
stepflow-openapi, stepflow-asyncapi, stepflow-python, 
stepflow-shell, stepflow-ai, stepflow-system
    â†“
stepflow-server (åŠ¨æ€åŠ è½½)
```

### å¹¶è¡Œå¼€å‘æ”¯æŒ
- **å·¥å…·åŒ…ç‹¬ç«‹**: æ¯ä¸ªå·¥å…·åŒ…å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•
- **æ¥å£ç»Ÿä¸€**: é€šè¿‡ stepflow-core å®šä¹‰ç»Ÿä¸€æ¥å£
- **åŠ¨æ€åŠ è½½**: å·¥å…·åŒ…å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½
- **ç‰ˆæœ¬ç®¡ç†**: æ¯ä¸ªåŒ…å¯ä»¥ç‹¬ç«‹ç‰ˆæœ¬åŒ–

---

## ğŸš€ å¼€å‘å·¥ä½œæµ

### 1. å¹¶è¡Œå¼€å‘æµç¨‹
```bash
# å›¢é˜Ÿ A: å¼€å‘ OpenAPI å·¥å…·
cd crates/tools/stepflow-openapi
cargo test
cargo build

# å›¢é˜Ÿ B: å¼€å‘ Python å·¥å…·
cd crates/tools/stepflow-python
cargo test
cargo build

# å›¢é˜Ÿ C: å¼€å‘æ ¸å¿ƒåŠŸèƒ½
cd crates/core/stepflow-core
cargo test
cargo build
```

### 2. æµ‹è¯•æ¨¡å—ç»“æ„
```bash
# æ¯ä¸ªå·¥å…·åŒ…åŒ…å«ç‹¬ç«‹æµ‹è¯•
crates/tools/stepflow-openapi/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ lib.rs
â”‚   â”œâ”€â”€ handler.rs
â”‚   â””â”€â”€ parser.rs
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ integration_tests.rs    # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ schema_validation.rs   # Schema éªŒè¯æµ‹è¯•
â”‚   â””â”€â”€ fixtures/              # æµ‹è¯•æ•°æ®
â”‚       â”œâ”€â”€ openapi_specs/     # OpenAPI è§„èŒƒæ–‡ä»¶
â”‚       â””â”€â”€ test_responses/    # æµ‹è¯•å“åº”
â””â”€â”€ Cargo.toml
```

### 3. æ–‡æ¡£ç”Ÿæˆ
```bash
# ç”ŸæˆåŒ…æ–‡æ¡£
cargo doc --workspace --open

# ç”Ÿæˆ API æ–‡æ¡£
cargo run -p stepflow-cli doc generate

# ç”ŸæˆåŒ…ä»‹ç»æ–‡æ¡£
cargo run -p stepflow-cli doc packages
```

### 2. é›†æˆæµ‹è¯•
```bash
# åœ¨æ ¹ç›®å½•è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test --workspace

# è¿è¡Œç‰¹å®šåŒ…çš„æµ‹è¯•
cargo test -p stepflow-openapi
cargo test -p stepflow-python
```

### 3. æ„å»ºå’Œå‘å¸ƒ
```bash
# æ„å»ºæ‰€æœ‰åŒ…
cargo build --workspace

# æ„å»ºç‰¹å®šåŒ…
cargo build -p stepflow-server

# å‘å¸ƒåˆ° crates.io
cargo publish -p stepflow-core
cargo publish -p stepflow-openapi
```

---

## ğŸ“‹ å¼€å‘è®¡åˆ’è°ƒæ•´

### Phase 1: æ ¸å¿ƒåŒ…å¼€å‘ (ç¬¬1-2å‘¨)
- [ ] stepflow-core: æ ¸å¿ƒæ¥å£å’Œæ•°æ®ç»“æ„
- [ ] stepflow-database: æ•°æ®åº“å±‚
- [ ] stepflow-registry: æ³¨å†Œä¸­å¿ƒ
- [ ] stepflow-executor: æ‰§è¡Œå¼•æ“
- [ ] æµ‹è¯•æ¨¡å—: æ¯ä¸ªåŒ…åŒ…å«ç‹¬ç«‹æµ‹è¯•
- [ ] æ–‡æ¡£ç”Ÿæˆ: è‡ªåŠ¨ç”ŸæˆåŒ…æ–‡æ¡£

### Phase 2: å·¥å…·åŒ…å¹¶è¡Œå¼€å‘ (ç¬¬3-6å‘¨)
- [ ] stepflow-openapi: OpenAPI å·¥å…· (å›¢é˜Ÿ A)
  - [ ] é›†æˆæµ‹è¯•å’Œ Schema éªŒè¯
  - [ ] æµ‹è¯•æ•°æ®ç®¡ç†
- [ ] stepflow-asyncapi: AsyncAPI å·¥å…· (å›¢é˜Ÿ A)
  - [ ] åè®®æµ‹è¯•å’Œè¿æ¥éªŒè¯
- [ ] stepflow-python: Python å·¥å…· (å›¢é˜Ÿ B)
  - [ ] ç¯å¢ƒæµ‹è¯•å’Œå®‰å…¨éªŒè¯
- [ ] stepflow-shell: Shell å·¥å…· (å›¢é˜Ÿ B)
  - [ ] å‘½ä»¤éªŒè¯å’Œå®‰å…¨æµ‹è¯•
- [ ] stepflow-ai: AI å·¥å…· (å›¢é˜Ÿ C)
  - [ ] Provider æµ‹è¯•å’Œæˆæœ¬è·Ÿè¸ª
- [ ] stepflow-system: ç³»ç»Ÿå·¥å…· (å›¢é˜Ÿ C)
  - [ ] æƒé™æµ‹è¯•å’Œæ“ä½œéªŒè¯

### Phase 3: æœåŠ¡åŒ…å¼€å‘ (ç¬¬7-8å‘¨)
- [ ] stepflow-embedding: åµŒå…¥æœåŠ¡
- [ ] stepflow-search: æœç´¢æœåŠ¡
- [ ] stepflow-monitoring: ç›‘æ§æœåŠ¡

### Phase 4: é›†æˆå’Œä¼˜åŒ– (ç¬¬9-10å‘¨)
- [ ] stepflow-api: API æœåŠ¡
- [ ] stepflow-server: ä¸»æœåŠ¡å™¨
- [ ] é›†æˆæµ‹è¯•å’Œä¼˜åŒ–

### Phase 5: å®Œå–„å’Œå‘å¸ƒ (ç¬¬11-12å‘¨)
- [ ] stepflow-cli: å‘½ä»¤è¡Œå·¥å…·
  - [ ] æ’ä»¶ç³»ç»Ÿè®¾è®¡ (æœªæ¥æ‰©å±•)
  - [ ] äº¤äº’å¼ç•Œé¢
- [ ] stepflow-admin: ç®¡ç†å·¥å…·
- [ ] æ–‡æ¡£å®Œå–„
  - [ ] API æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ
  - [ ] åŒ…æ–‡æ¡£å’Œç¤ºä¾‹
  - [ ] ä½¿ç”¨æŒ‡å—
- [ ] å‘å¸ƒå‡†å¤‡
  - [ ] ç‰ˆæœ¬ç®¡ç†å’Œå‘å¸ƒç­–ç•¥
  - [ ] CI/CD æµç¨‹

---

## ğŸ¯ ä¼˜åŠ¿

### 1. **å¹¶è¡Œå¼€å‘**
- ä¸åŒå›¢é˜Ÿå¯ä»¥åŒæ—¶å¼€å‘ä¸åŒçš„å·¥å…·åŒ…
- å‡å°‘ä»£ç å†²çªå’Œä¾èµ–ç­‰å¾…

### 2. **æ¨¡å—åŒ–è®¾è®¡**
- æ¯ä¸ªåŒ…èŒè´£å•ä¸€ï¼Œæ˜“äºç»´æŠ¤
- æ”¯æŒç‹¬ç«‹æµ‹è¯•å’Œéƒ¨ç½²

### 3. **å¯æ‰©å±•æ€§**
- æ–°å¢å·¥å…·ç±»å‹åªéœ€æ·»åŠ æ–°çš„å·¥å…·åŒ…
- ä¸å½±å“ç°æœ‰åŠŸèƒ½

### 4. **ç‰ˆæœ¬ç®¡ç†**
- æ¯ä¸ªåŒ…å¯ä»¥ç‹¬ç«‹ç‰ˆæœ¬åŒ–
- æ”¯æŒæ¸è¿›å¼å‡çº§

### 5. **å›¢é˜Ÿåä½œ**
- æ¸…æ™°çš„åŒ…è¾¹ç•Œå’Œæ¥å£
- å‡å°‘å›¢é˜Ÿé—´çš„è€¦åˆ
- ç»Ÿä¸€çš„å‘½åç©ºé—´ä¾¿äº IDE æ£€ç´¢
- ç‹¬ç«‹çš„æµ‹è¯•æ¨¡å—æ”¯æŒå¹¶è¡Œå¼€å‘
- è‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£ä¾¿äºå›¢é˜Ÿåä½œ

---

## ğŸ¯ æ”¹è¿›äº®ç‚¹

### 1. **ç»Ÿä¸€å‘½åç©ºé—´**
- æ‰€æœ‰åŒ…ä½¿ç”¨ `stepflow-` å‰ç¼€
- ä¾¿äº IDE æ™ºèƒ½æç¤ºå’Œ crates.io æ£€ç´¢
- æ¸…æ™°çš„åŒ…åˆ†ç±»ï¼š`core/`, `tools/`, `services/`, `binaries/`

### 2. **ç‹¬ç«‹æµ‹è¯•æ¨¡å—**
æ¯ä¸ªå·¥å…·åŒ…åŒ…å«å®Œæ•´çš„æµ‹è¯•ç»“æ„ï¼š
```rust
// tests/integration_tests.rs
#[tokio::test]
async fn test_openapi_tool_execution() {
    // æµ‹è¯•å·¥å…·æ‰§è¡Œ
}

#[tokio::test]
async fn test_schema_validation() {
    // æµ‹è¯• Schema éªŒè¯
}

// tests/fixtures/openapi_specs/petstore.yaml
// æµ‹è¯•æ•°æ®æ–‡ä»¶
```

### 3. **æ–‡æ¡£é›†æˆ**
è‡ªåŠ¨ç”ŸæˆåŒ…æ–‡æ¡£å’Œä»‹ç»ï¼š
```bash
# ç”ŸæˆåŒ…æ–‡æ¡£
cargo doc --workspace

# ç”ŸæˆåŒ…ä»‹ç»
cargo run -p stepflow-cli doc packages

# ç”Ÿæˆ API æ–‡æ¡£
cargo run -p stepflow-cli doc api
```

### 4. **CLI æ’ä»¶ç³»ç»Ÿ** (æœªæ¥)
æ”¯æŒåŠ¨æ€æ³¨å†Œæ’ä»¶ï¼š
```rust
// è‡ªå®šä¹‰å·¥å…·ç®¡ç†è„šæœ¬
#[derive(Clap)]
struct CustomToolCommand {
    #[clap(subcommand)]
    cmd: CustomToolSubcommand,
}

// æ’ä»¶æ³¨å†Œ
stepflow_cli::register_plugin(Box::new(CustomToolPlugin));
```

### 5. **AI Agent è§£è€¦** (æœªæ¥)
å°† AI åŠŸèƒ½æ‹†åˆ†ä¸ºä¸¤ä¸ªå­åŒ…ï¼š
```rust
// stepflow-ai-agent: Agent é€»è¾‘
pub trait Agent {
    fn plan(&self, goal: &str) -> Result<Plan, AgentError>;
    fn execute(&self, plan: &Plan) -> Result<ExecutionResult, AgentError>;
}

// stepflow-ai-llm: LLM Provider æŠ½è±¡
pub trait LlmProvider {
    fn generate(&self, prompt: &str) -> Result<String, LlmError>;
    fn embed(&self, text: &str) -> Result<Vec<f32>, LlmError>;
}
```

### 6. **å¼€å‘ä½“éªŒä¼˜åŒ–**
- **IDE æ”¯æŒ**: ç»Ÿä¸€çš„å‘½åç©ºé—´ä¾¿äºæ™ºèƒ½æç¤º
- **å¹¶è¡Œå¼€å‘**: ç‹¬ç«‹çš„åŒ…å’Œæµ‹è¯•æ”¯æŒå›¢é˜Ÿå¹¶è¡Œå·¥ä½œ
- **æ–‡æ¡£è‡ªåŠ¨åŒ–**: è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£å‡å°‘ç»´æŠ¤æˆæœ¬
- **æ’ä»¶ç”Ÿæ€**: CLI æ’ä»¶ç³»ç»Ÿæ”¯æŒç¤¾åŒºè´¡çŒ®

---

End of Document. 