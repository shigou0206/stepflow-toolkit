# Stepflow Tool System - å¼€å‘è®¡åˆ’

## ğŸ“… æ€»ä½“æ—¶é—´çº¿

**æ€»å‘¨æœŸ**: 12å‘¨ (3ä¸ªæœˆ)
**å¼€å‘æ¨¡å¼**: æ•æ·å¼€å‘ï¼Œæ¯å‘¨è¿­ä»£
**å›¢é˜Ÿè§„æ¨¡**: 1-2äºº

---

## ğŸ¯ Phase 1: æ ¸å¿ƒåŸºç¡€ (ç¬¬1-2å‘¨)

### Week 1: é¡¹ç›®åˆå§‹åŒ–ä¸åŸºç¡€æ¶æ„

#### Day 1-2: é¡¹ç›®è®¾ç½®
- [ ] åˆ›å»º Rust é¡¹ç›®ç»“æ„
- [ ] é…ç½® Cargo.toml ä¾èµ–
- [ ] è®¾ç½®å¼€å‘ç¯å¢ƒ (VS Code + Rust Analyzer)
- [ ] é…ç½® Git ä»“åº“å’Œ CI/CD

**æŠ€æœ¯æ ˆé…ç½®**:
```toml
[dependencies]
tokio = { version = "1.0", features = ["full"] }
actix-web = "4.0"
sqlx = { version = "0.7", features = ["runtime-tokio-rustls", "sqlite"] }
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
tracing = "0.1"
tracing-subscriber = "0.3"
uuid = { version = "1.0", features = ["v4"] }
chrono = { version = "0.4", features = ["serde"] }
```

#### Day 3-4: æ•°æ®æ¨¡å‹è®¾è®¡
- [ ] å®šä¹‰ ToolSpec ç»“æ„ä½“
- [ ] å®ç° ToolType æšä¸¾
- [ ] è®¾è®¡æ•°æ®åº“ Schema
- [ ] åˆ›å»º SQLite è¿ç§»æ–‡ä»¶

**æ ¸å¿ƒæ•°æ®ç»“æ„**:
```rust
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct ToolSpec {
    pub id: ToolId,
    pub name: String,
    pub description: String,
    pub tool_type: ToolType,
    pub input_schema: serde_json::Value,
    pub output_schema: serde_json::Value,
    pub config: serde_json::Value,
    pub tags: Vec<String>,
    pub category: Option<String>,
    pub version: String,
    pub tenant_id: TenantId,
    pub registered_at: DateTime<Utc>,
    pub execution_config: ExecutionConfig,
}
```

#### Day 5: æ•°æ®åº“è¿æ¥
- [ ] é…ç½® SQLx è¿æ¥æ± 
- [ ] å®ç°æ•°æ®åº“è¿ç§»
- [ ] åˆ›å»ºåŸºç¡€ CRUD æ“ä½œ
- [ ] æ·»åŠ æ•°æ®åº“æµ‹è¯•

### Week 2: API åŸºç¡€ä¸è®¤è¯

#### Day 1-2: REST API æ¡†æ¶
- [ ] è®¾ç½® Actix-web æœåŠ¡å™¨
- [ ] å®ç°åŸºç¡€è·¯ç”±ç»“æ„
- [ ] æ·»åŠ è¯·æ±‚/å“åº”å¤„ç†
- [ ] é…ç½® CORS å’Œä¸­é—´ä»¶

**API è·¯ç”±ç»“æ„**:
```rust
#[actix_web::main]
async fn main() -> std::io::Result<()> {
    HttpServer::new(|| {
        App::new()
            .wrap(Logger::default())
            .wrap(Cors::permissive())
            .service(
                web::scope("/api/v1")
                    .service(tools::register)
                    .service(tools::list)
                    .service(tools::get)
                    .service(tools::execute)
                    .service(ai_tools::list)
                    .service(health::check)
                    .service(metrics::get)
            )
    })
    .bind("127.0.0.1:8080")?
    .run()
    .await
}
```

#### Day 3-4: å·¥å…·æ³¨å†Œä¸æŸ¥è¯¢
- [ ] å®ç°å·¥å…·æ³¨å†Œ API
- [ ] å®ç°å·¥å…·åˆ—è¡¨æŸ¥è¯¢
- [ ] å®ç°å·¥å…·è¯¦æƒ…æŸ¥è¯¢
- [ ] æ·»åŠ è¾“å…¥éªŒè¯

**æ ¸å¿ƒ API å®ç°**:
```rust
#[post("/tools/register")]
async fn register_tool(
    pool: web::Data<Pool<Sqlite>>,
    tool_spec: web::Json<ToolSpec>,
) -> Result<web::Json<ToolSpec>, actix_web::Error> {
    // éªŒè¯å·¥å…·è§„èŒƒ
    // ä¿å­˜åˆ°æ•°æ®åº“
    // è¿”å›æ³¨å†Œç»“æœ
}

#[get("/tools")]
async fn list_tools(
    pool: web::Data<Pool<Sqlite>>,
    query: web::Query<ListToolsQuery>,
) -> Result<web::Json<ToolListResponse>, actix_web::Error> {
    // æŸ¥è¯¢å·¥å…·åˆ—è¡¨
    // æ”¯æŒåˆ†é¡µå’Œè¿‡æ»¤
}
```

#### Day 5: è®¤è¯ä¸æ—¥å¿—
- [ ] å®ç° API Key è®¤è¯
- [ ] é…ç½®ç»“æ„åŒ–æ—¥å¿—
- [ ] æ·»åŠ è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶
- [ ] å®ç°å¥åº·æ£€æŸ¥ç«¯ç‚¹

---

## ğŸ› ï¸ Phase 2: å·¥å…·å¤„ç†å™¨ (ç¬¬3-6å‘¨)

### Week 3: OpenAPI å·¥å…·å¤„ç†å™¨

#### Day 1-2: OpenAPI è§£æå™¨
- [ ] å®ç° OpenAPI è§„èŒƒè§£æ
- [ ] æå–ç«¯ç‚¹å’Œå‚æ•°ä¿¡æ¯
- [ ] ç”Ÿæˆè¾“å…¥/è¾“å‡ºæ¨¡å¼
- [ ] ç¼“å­˜è§£æç»“æœ

**OpenAPI å¤„ç†å™¨**:
```rust
pub struct OpenApiToolHandler {
    client: reqwest::Client,
    spec_cache: Arc<RwLock<HashMap<String, OpenApiSpec>>>,
}

impl OpenApiToolHandler {
    pub async fn parse_spec(&self, spec_url: &str) -> Result<OpenApiSpec, ToolError> {
        // ä¸‹è½½å’Œè§£æ OpenAPI è§„èŒƒ
        // æå–ç«¯ç‚¹å’Œå‚æ•°
        // ç”Ÿæˆ JSON Schema
    }
    
    pub async fn execute_endpoint(
        &self,
        endpoint: &str,
        method: &str,
        params: &serde_json::Value,
    ) -> Result<serde_json::Value, ToolError> {
        // æ„å»º HTTP è¯·æ±‚
        // å¤„ç†è®¤è¯
        // éªŒè¯å“åº”
    }
}
```

#### Day 3-4: HTTP å®¢æˆ·ç«¯ä¸è®¤è¯
- [ ] å®ç° HTTP è¯·æ±‚æ„å»º
- [ ] æ”¯æŒå¤šç§è®¤è¯æ–¹å¼
- [ ] æ·»åŠ è¯·æ±‚é‡è¯•æœºåˆ¶
- [ ] å®ç°å“åº”éªŒè¯

#### Day 5: æµ‹è¯•ä¸ä¼˜åŒ–
- [ ] ç¼–å†™ OpenAPI å·¥å…·æµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] é”™è¯¯å¤„ç†å®Œå–„

### Week 4: AsyncAPI å·¥å…·å¤„ç†å™¨

#### Day 1-2: AsyncAPI è§£æå™¨
- [ ] å®ç° AsyncAPI è§„èŒƒè§£æ
- [ ] æ”¯æŒå¤šç§åè®® (MQTT, Kafka, WebSocket)
- [ ] æ¶ˆæ¯æ¨¡å¼éªŒè¯
- [ ] è¿æ¥ç®¡ç†

**AsyncAPI å¤„ç†å™¨**:
```rust
pub struct AsyncApiToolHandler {
    mqtt_client: Option<mqtt::Client>,
    kafka_producer: Option<kafka::Producer>,
    ws_client: Option<tokio_tungstenite::WebSocketStream>,
}

impl AsyncApiToolHandler {
    pub async fn publish_message(
        &self,
        channel: &str,
        message: &serde_json::Value,
    ) -> Result<serde_json::Value, ToolError> {
        // å‘å¸ƒæ¶ˆæ¯åˆ°å¼‚æ­¥é€šé“
    }
}
```

#### Day 3-4: åè®®å®ç°
- [ ] MQTT å®¢æˆ·ç«¯å®ç°
- [ ] Kafka ç”Ÿäº§è€…/æ¶ˆè´¹è€…
- [ ] WebSocket è¿æ¥ç®¡ç†
- [ ] æ¶ˆæ¯åºåˆ—åŒ–/ååºåˆ—åŒ–

#### Day 5: æµ‹è¯•ä¸æ–‡æ¡£
- [ ] ç¼–å†™ AsyncAPI å·¥å…·æµ‹è¯•
- [ ] æ›´æ–° API æ–‡æ¡£
- [ ] æ€§èƒ½æµ‹è¯•

### Week 5: Python è„šæœ¬å·¥å…·å¤„ç†å™¨

#### Day 1-2: Python è¿è¡Œæ—¶
- [ ] é›†æˆ PyO3 åº“
- [ ] å®ç° Python è„šæœ¬æ‰§è¡Œ
- [ ] è¾“å…¥/è¾“å‡ºåºåˆ—åŒ–
- [ ] é”™è¯¯å¤„ç†

**Python å¤„ç†å™¨**:
```rust
pub struct PythonToolHandler {
    runtime: tokio::runtime::Runtime,
    sandbox_manager: SandboxManager,
}

impl PythonToolHandler {
    pub async fn execute_script(
        &self,
        script: &str,
        input: &serde_json::Value,
        config: &PythonConfig,
    ) -> Result<serde_json::Value, ToolError> {
        // åˆ›å»ºéš”ç¦»çš„ Python ç¯å¢ƒ
        // æ‰§è¡Œè„šæœ¬
        // æ•è·è¾“å‡ºå’Œé”™è¯¯
    }
}
```

#### Day 3-4: ç¯å¢ƒç®¡ç†
- [ ] è™šæ‹Ÿç¯å¢ƒç®¡ç†
- [ ] ä¾èµ–å®‰è£…
- [ ] èµ„æºæ¸…ç†
- [ ] å®‰å…¨éªŒè¯

#### Day 5: æµ‹è¯•ä¸ä¼˜åŒ–
- [ ] ç¼–å†™ Python å·¥å…·æµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å®‰å…¨åŠ å›º

### Week 6: Shell å’Œç³»ç»Ÿå·¥å…·å¤„ç†å™¨

#### Day 1-2: Shell å‘½ä»¤å¤„ç†å™¨
- [ ] å®ç°å¤š Shell æ”¯æŒ
- [ ] å‘½ä»¤éªŒè¯å’Œå®‰å…¨æ£€æŸ¥
- [ ] è¾“å…¥/è¾“å‡ºå¤„ç†
- [ ] èµ„æºé™åˆ¶

**Shell å¤„ç†å™¨**:
```rust
pub struct ShellToolHandler {
    sandbox_manager: SandboxManager,
}

impl ShellToolHandler {
    pub async fn execute_command(
        &self,
        command: &str,
        args: &[String],
        input: &serde_json::Value,
        config: &ShellConfig,
    ) -> Result<serde_json::Value, ToolError> {
        // åœ¨æ²™ç®±ä¸­æ‰§è¡Œ Shell å‘½ä»¤
        // ä¼ é€’è¾“å…¥å‚æ•°
        // æ•è·è¾“å‡º
    }
}
```

#### Day 3-4: ç³»ç»Ÿå·¥å…·å¤„ç†å™¨
- [ ] æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- [ ] è¿›ç¨‹ç®¡ç†
- [ ] ç½‘ç»œæ“ä½œ
- [ ] æ•°æ®åº“æŸ¥è¯¢

#### Day 5: AI å·¥å…·å¤„ç†å™¨
- [ ] å¤š AI æä¾›å•†æ”¯æŒ
- [ ] API å¯†é’¥ç®¡ç†
- [ ] ç»“æ„åŒ–è¾“å‡ºè§£æ
- [ ] æˆæœ¬è·Ÿè¸ª

---

## âš™ï¸ Phase 3: æ‰§è¡Œå¼•æ“ (ç¬¬7-8å‘¨)

### Week 7: æ ¸å¿ƒæ‰§è¡Œå¼•æ“

#### Day 1-2: ToolExecutor å®ç°
- [ ] å®ç°ç»Ÿä¸€çš„å·¥å…·æ‰§è¡Œæ¥å£
- [ ] å¤„ç†å™¨æ³¨å†Œæœºåˆ¶
- [ ] å¼‚æ­¥æ‰§è¡Œç®¡ç†
- [ ] é”™è¯¯å¤„ç†

**æ‰§è¡Œå¼•æ“æ ¸å¿ƒ**:
```rust
pub struct ToolExecutor {
    handlers: HashMap<ToolType, Box<dyn ToolHandler>>,
    sandbox_manager: SandboxManager,
    metrics: MetricsCollector,
}

impl ToolExecutor {
    pub async fn execute_tool(
        &self,
        tool_id: &ToolId,
        input: &serde_json::Value,
    ) -> Result<serde_json::Value, ToolError> {
        // æŸ¥æ‰¾å·¥å…·å¤„ç†å™¨
        // éªŒè¯è¾“å…¥
        // æ‰§è¡Œå·¥å…·
        // æ”¶é›†æŒ‡æ ‡
    }
}
```

#### Day 3-4: æ²™ç®±æ‰§è¡Œç¯å¢ƒ
- [ ] è¿›ç¨‹çº§éš”ç¦»å®ç°
- [ ] èµ„æºé™åˆ¶ç®¡ç†
- [ ] æ–‡ä»¶ç³»ç»Ÿéš”ç¦»
- [ ] å®‰å…¨ç­–ç•¥é…ç½®

#### Day 5: é™æµä¸èµ„æºç®¡ç†
- [ ] å†…å­˜ç¼“å­˜å®ç°
- [ ] é€Ÿç‡é™åˆ¶å™¨
- [ ] èµ„æºç›‘æ§
- [ ] è‡ªåŠ¨æ¸…ç†

### Week 8: ç›‘æ§ä¸æ—¥å¿—

#### Day 1-2: æŒ‡æ ‡æ”¶é›†
- [ ] å®ç°å†…å­˜æŒ‡æ ‡æ”¶é›†
- [ ] æ‰§è¡Œç»Ÿè®¡
- [ ] æ€§èƒ½ç›‘æ§
- [ ] å¥åº·æ£€æŸ¥

**æŒ‡æ ‡ç³»ç»Ÿ**:
```rust
#[derive(Debug)]
pub struct ToolMetrics {
    pub execution_count: AtomicU64,
    pub execution_duration: VecDeque<Duration>,
    pub error_count: AtomicU64,
    pub active_executions: AtomicU64,
}
```

#### Day 3-4: æ—¥å¿—ç³»ç»Ÿ
- [ ] ç»“æ„åŒ–æ—¥å¿—å®ç°
- [ ] æ—¥å¿—è½®è½¬
- [ ] é”™è¯¯è¿½è¸ª
- [ ] å®¡è®¡æ—¥å¿—

#### Day 5: æµ‹è¯•ä¸ä¼˜åŒ–
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•
- [ ] å‹åŠ›æµ‹è¯•
- [ ] å®‰å…¨æµ‹è¯•

---

## ğŸ¤– Phase 4: AI é›†æˆ (ç¬¬9-10å‘¨)

### Week 9: AI å·¥å…·æ¥å£

#### Day 1-2: AI å·¥å…· API
- [ ] å®ç° AI å·¥å…·åˆ—è¡¨ API
- [ ] å·¥å…·æœç´¢åŠŸèƒ½
- [ ] ä½¿ç”¨ç¤ºä¾‹ç®¡ç†
- [ ] å·¥å…·æè¿°ä¼˜åŒ–

**AI å·¥å…·æ¥å£**:
```rust
#[get("/ai-tools")]
async fn list_ai_tools(
    pool: web::Data<Pool<Sqlite>>,
    query: web::Query<AiToolsQuery>,
) -> Result<web::Json<AiToolsResponse>, actix_web::Error> {
    // æŸ¥è¯¢ AI å‹å¥½çš„å·¥å…·åˆ—è¡¨
    // åŒ…å«ä½¿ç”¨ç¤ºä¾‹
    // æ”¯æŒæœç´¢å’Œè¿‡æ»¤
}
```

#### Day 3-4: æœ¬åœ°åµŒå…¥æœåŠ¡
- [ ] å®ç°æœ¬åœ°åµŒå…¥æ¨¡å‹
- [ ] å·¥å…·å‘é‡åŒ–
- [ ] ç›¸ä¼¼åº¦æœç´¢
- [ ] æœç´¢ç»“æœæ’åº

#### Day 5: æ–‡æ¡£ç”Ÿæˆ
- [ ] è‡ªåŠ¨ç”Ÿæˆå·¥å…·æ–‡æ¡£
- [ ] ä½¿ç”¨ç¤ºä¾‹æå–
- [ ] API æ–‡æ¡£æ›´æ–°
- [ ] å¼€å‘è€…æŒ‡å—

### Week 10: æœç´¢ä¸å‘ç°

#### Day 1-2: æœç´¢å¼•æ“
- [ ] å®ç°æœ¬åœ°æœç´¢ç´¢å¼•
- [ ] å…¨æ–‡æœç´¢åŠŸèƒ½
- [ ] æ ‡ç­¾æœç´¢
- [ ] åˆ†ç±»æœç´¢

#### Day 3-4: å·¥å…·å‘ç°
- [ ] å·¥å…·æ¨èç®—æ³•
- [ ] çƒ­é—¨å·¥å…·ç»Ÿè®¡
- [ ] ç›¸å…³å·¥å…·æ¨è
- [ ] å·¥å…·ä½¿ç”¨åˆ†æ

#### Day 5: æµ‹è¯•ä¸æ–‡æ¡£
- [ ] AI é›†æˆæµ‹è¯•
- [ ] æœç´¢åŠŸèƒ½æµ‹è¯•
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] ç”¨æˆ·æ–‡æ¡£

---

## ğŸ¯ Phase 5: å®Œå–„ä¸ä¼˜åŒ– (ç¬¬11-12å‘¨)

### Week 11: æ€§èƒ½ä¼˜åŒ–

#### Day 1-2: ä»£ç ä¼˜åŒ–
- [ ] æ€§èƒ½ç“¶é¢ˆåˆ†æ
- [ ] å†…å­˜ä½¿ç”¨ä¼˜åŒ–
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] å¹¶å‘æ€§èƒ½æå‡

#### Day 3-4: å®‰å…¨åŠ å›º
- [ ] è¾“å…¥éªŒè¯åŠ å¼º
- [ ] è¾“å‡ºè¿‡æ»¤
- [ ] æƒé™æ§åˆ¶
- [ ] å®‰å…¨æµ‹è¯•

#### Day 5: ç›‘æ§å®Œå–„
- [ ] å¥åº·ç›‘æ§å®ç°
- [ ] å‘Šè­¦æœºåˆ¶
- [ ] æ—¥å¿—åˆ†æ
- [ ] æ€§èƒ½æŒ‡æ ‡

### Week 12: æµ‹è¯•ä¸å‘å¸ƒ

#### Day 1-2: å…¨é¢æµ‹è¯•
- [ ] å•å…ƒæµ‹è¯•å®Œå–„
- [ ] é›†æˆæµ‹è¯•
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] ç”¨æˆ·éªŒæ”¶æµ‹è¯•

#### Day 3-4: æ–‡æ¡£å®Œå–„
- [ ] API æ–‡æ¡£æ›´æ–°
- [ ] ç”¨æˆ·æ‰‹å†Œ
- [ ] å¼€å‘è€…æŒ‡å—
- [ ] éƒ¨ç½²æ–‡æ¡£

#### Day 5: å‘å¸ƒå‡†å¤‡
- [ ] ç‰ˆæœ¬æ‰“åŒ…
- [ ] å‘å¸ƒè¯´æ˜
- [ ] éƒ¨ç½²è„šæœ¬
- [ ] ç›‘æ§é…ç½®

---

## ğŸ“‹ æŠ€æœ¯å®ç°ç»†èŠ‚

### é¡¹ç›®ç»“æ„
```
stepflow-toolkit/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs              # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ lib.rs               # åº“å…¥å£
â”‚   â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ tool.rs          # å·¥å…·ç›¸å…³æ¨¡å‹
â”‚   â”‚   â””â”€â”€ execution.rs     # æ‰§è¡Œç›¸å…³æ¨¡å‹
â”‚   â”œâ”€â”€ handlers/            # å·¥å…·å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ openapi.rs       # OpenAPI å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ asyncapi.rs      # AsyncAPI å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ python.rs        # Python å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ shell.rs         # Shell å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ ai.rs            # AI å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ system.rs        # ç³»ç»Ÿå·¥å…·å¤„ç†å™¨
â”‚   â”œâ”€â”€ api/                 # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ tools.rs         # å·¥å…· API
â”‚   â”‚   â”œâ”€â”€ ai_tools.rs      # AI å·¥å…· API
â”‚   â”‚   â”œâ”€â”€ health.rs        # å¥åº·æ£€æŸ¥
â”‚   â”‚   â””â”€â”€ metrics.rs       # æŒ‡æ ‡ API
â”‚   â”œâ”€â”€ services/            # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ registry.rs      # å·¥å…·æ³¨å†ŒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ executor.rs      # æ‰§è¡Œå¼•æ“
â”‚   â”‚   â””â”€â”€ sandbox.rs       # æ²™ç®±ç®¡ç†
â”‚   â”œâ”€â”€ database/            # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ mod.rs
â”‚   â”‚   â”œâ”€â”€ connection.rs    # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â””â”€â”€ migrations/      # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚       â”œâ”€â”€ mod.rs
â”‚       â”œâ”€â”€ auth.rs          # è®¤è¯å·¥å…·
â”‚       â”œâ”€â”€ cache.rs         # ç¼“å­˜å·¥å…·
â”‚       â””â”€â”€ logging.rs       # æ—¥å¿—å·¥å…·
â”œâ”€â”€ tests/                   # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ docs/                    # æ–‡æ¡£
â”œâ”€â”€ scripts/                 # è„šæœ¬æ–‡ä»¶
â””â”€â”€ config/                  # é…ç½®æ–‡ä»¶
```

### å…³é”®ä¾èµ–
```toml
[dependencies]
# æ ¸å¿ƒè¿è¡Œæ—¶
tokio = { version = "1.0", features = ["full"] }
actix-web = "4.0"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"

# æ•°æ®åº“
sqlx = { version = "0.7", features = ["runtime-tokio-rustls", "sqlite", "chrono"] }

# å·¥å…·å¤„ç†å™¨
reqwest = { version = "0.11", features = ["json"] }
tokio-tungstenite = "0.20"
rumqttc = "0.20"
rdkafka = "0.33"
pyo3 = { version = "0.19", features = ["auto-initialize"] }
tokio-process = "0.5"

# AI é›†æˆ
openai = "0.17"
anthropic = "0.7"

# ç›‘æ§å’Œæ—¥å¿—
tracing = "0.1"
tracing-subscriber = "0.3"
chrono = { version = "0.4", features = ["serde"] }
uuid = { version = "1.0", features = ["v4"] }

# å·¥å…·å‡½æ•°
anyhow = "1.0"
thiserror = "1.0"
```

### é…ç½®ç®¡ç†
```rust
#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct Config {
    pub server: ServerConfig,
    pub database: DatabaseConfig,
    pub security: SecurityConfig,
    pub logging: LoggingConfig,
}

#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct ServerConfig {
    pub host: String,
    pub port: u16,
    pub workers: usize,
}

#[derive(Debug, Clone, Serialize, Deserialize)]
pub struct DatabaseConfig {
    pub url: String,
    pub max_connections: u32,
}
```

---

## ğŸ¯ æˆåŠŸæ ‡å‡†

### åŠŸèƒ½å®Œæ•´æ€§
- [ ] æ”¯æŒæ‰€æœ‰ 6 ç§å·¥å…·ç±»å‹
- [ ] å®Œæ•´çš„ CRUD æ“ä½œ
- [ ] å®‰å…¨çš„æ‰§è¡Œç¯å¢ƒ
- [ ] AI å‹å¥½çš„æ¥å£

### æ€§èƒ½æŒ‡æ ‡
- [ ] API å“åº”æ—¶é—´ < 50ms (95%)
- [ ] å·¥å…·æ‰§è¡Œæ—¶é—´ < 1s (ç®€å•å·¥å…·)
- [ ] å†…å­˜ä½¿ç”¨ < 50MB/æ‰§è¡Œ
- [ ] å¯åŠ¨æ—¶é—´ < 2s

### è´¨é‡ä¿è¯
- [ ] ä»£ç è¦†ç›–ç‡ > 80%
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] å®‰å…¨æ‰«ææ— é«˜å±æ¼æ´
- [ ] æ–‡æ¡£å®Œæ•´æ€§

### ç”¨æˆ·ä½“éªŒ
- [ ] æ¸…æ™°çš„ API æ–‡æ¡£
- [ ] ç®€å•çš„éƒ¨ç½²æµç¨‹
- [ ] å‹å¥½çš„é”™è¯¯ä¿¡æ¯
- [ ] å®Œæ•´çš„ç¤ºä¾‹ä»£ç 

---

## ğŸš€ éƒ¨ç½²è®¡åˆ’

### å¼€å‘ç¯å¢ƒ
- **æ“ä½œç³»ç»Ÿ**: macOS/Linux
- **æ•°æ®åº“**: SQLite (æœ¬åœ°æ–‡ä»¶)
- **ç«¯å£**: 8080
- **æ—¥å¿—**: æœ¬åœ°æ–‡ä»¶

### ç”Ÿäº§ç¯å¢ƒ
- **å®¹å™¨åŒ–**: Docker
- **ç›‘æ§**: å†…ç½®å¥åº·æ£€æŸ¥
- **å¤‡ä»½**: SQLite æ–‡ä»¶å¤‡ä»½
- **æ›´æ–°**: æ»šåŠ¨æ›´æ–°

### å‘å¸ƒç­–ç•¥
- **ç‰ˆæœ¬æ§åˆ¶**: è¯­ä¹‰åŒ–ç‰ˆæœ¬
- **å‘å¸ƒå‘¨æœŸ**: æ¯ 2 å‘¨ä¸€ä¸ªå°ç‰ˆæœ¬
- **å›æ»šç­–ç•¥**: å¿«é€Ÿå›æ»šæœºåˆ¶
- **æ–‡æ¡£**: åŒæ­¥æ›´æ–°

---

End of Document. 